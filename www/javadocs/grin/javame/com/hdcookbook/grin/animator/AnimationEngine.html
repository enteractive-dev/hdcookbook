<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_20) on Wed Jun 09 16:45:12 PDT 2010 -->
<TITLE>
AnimationEngine
</TITLE>

<META NAME="date" CONTENT="2010-06-09">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AnimationEngine";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html" title="interface in com.hdcookbook.grin.animator"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/hdcookbook/grin/animator/ClockBasedEngine.html" title="class in com.hdcookbook.grin.animator"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/hdcookbook/grin/animator/AnimationEngine.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AnimationEngine.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.hdcookbook.grin.animator</FONT>
<BR>
Class AnimationEngine</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>com.hdcookbook.grin.animator.AnimationEngine</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.lang.Runnable</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../com/hdcookbook/grin/animator/ClockBasedEngine.html" title="class in com.hdcookbook.grin.animator">ClockBasedEngine</A>, <A HREF="../../../../com/hdcookbook/grin/animator/SFAAEngine.html" title="class in com.hdcookbook.grin.animator">SFAAEngine</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>AnimationEngine</B><DT>extends java.lang.Object<DT>implements java.lang.Runnable</DL>
</PRE>

<P>
Abstract base class for an animation engine.
 <p>
 An animation engine runs the main animation loop, and manages
 display of a set of animation clients to a component.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#modelTimeSkipped">modelTimeSkipped</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;com.hdcookbook.grin.animator.RenderContextBase</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#renderContext">renderContext</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The list of erase and drawing areas that were updated in 
 the current frame of animation, and records of what happened
 in the last.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.awt.Rectangle</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#repaintBounds">repaintBounds</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The area that has been damaged and need to be repainted in the
 next cycle.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#targetsCanOverlap">targetsCanOverlap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.awt.Color</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#transparent">transparent</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A useful constant that's used extensively by engines</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#AnimationEngine()">AnimationEngine</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize a new AnimationEngine.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#advanceModel()">advanceModel</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#callPaintTargets()">callPaintTargets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Paint the current frame into the right graphics buffer.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#checkDestroy()">checkDestroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Throw an InterruptedException if we should bail out.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#checkNewClients()">checkNewClients</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check to see if we have new animation clients.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#clearArea(int, int, int, int)">clearArea</A></B>(int&nbsp;x,
          int&nbsp;y,
          int&nbsp;width,
          int&nbsp;height)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called from showFrame() to cause an area to be cleared in the
 current frame.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#destroy()">destroy</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Destroy this animation manager, by terminating the animation thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#destroyRequested()">destroyRequested</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tells us if there has been a request to destroy this animation
 manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#finishedFrame()">finishedFrame</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called when the engine is finished drawing the current frame.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html" title="interface in com.hdcookbook.grin.animator">AnimationClient</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getAnimationClients()">getAnimationClients</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a copy of the list of animation clients that were last
 set for this animation engine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;java.awt.Component</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getComponent()">getComponent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the component that this animation engine renders into.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.awt.Rectangle[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getDrawTargets()">getDrawTargets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.awt.Rectangle[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getEraseTargets()">getEraseTargets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getHeight()">getHeight</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the height of the area we display over</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getModelTimeSkipped()">getModelTimeSkipped</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the number of ms skipped before the next model update.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getNumDrawTargets()">getNumDrawTargets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getNumEraseTargets()">getNumEraseTargets</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#getWidth()">getWidth</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the width of the area we display over</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#initClients(com.hdcookbook.grin.animator.AnimationClient[])">initClients</A></B>(<A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html" title="interface in com.hdcookbook.grin.animator">AnimationClient</A>[]&nbsp;clients)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize this engine with the animation clients it will be
 managing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#initContainer(java.awt.Container, java.awt.Rectangle)">initContainer</A></B>(java.awt.Container&nbsp;container,
              java.awt.Rectangle&nbsp;bounds)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize this engine with its parent container and the
 position and size of the engine within the container.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#initialize(com.hdcookbook.grin.animator.AnimationContext)">initialize</A></B>(<A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html" title="interface in com.hdcookbook.grin.animator">AnimationContext</A>&nbsp;context)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize this animation manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#needsFullRedrawInAnimationLoop()">needsFullRedrawInAnimationLoop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tell us whether or not this style of animation requires a full
 redraw of everything on the screen in each pass through the animation
 loop.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#paintFrame(java.awt.Graphics2D)">paintFrame</A></B>(java.awt.Graphics2D&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Paint the current frame into the given graphics object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#paintNextFrameFully()">paintNextFrameFully</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets this engine so that the next frame will be painted in
 its entirety, with no redraw optimization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#paintTargets(java.awt.Graphics2D)">paintTargets</A></B>(java.awt.Graphics2D&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Paint the current set of target areas in our RenderContext for
 the current frame into the given graphics object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#pause()">pause</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pause the currently running animations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#repaintFrame(java.awt.Graphics2D)">repaintFrame</A></B>(java.awt.Graphics2D&nbsp;g)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Repaint the current frame.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#resetAnimationClients(com.hdcookbook.grin.animator.AnimationClient[])">resetAnimationClients</A></B>(<A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html" title="interface in com.hdcookbook.grin.animator">AnimationClient</A>[]&nbsp;clients)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset the set of clients being rendered by a running animation
 engine.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#run()">run</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is the main loop for animation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#runAnimationLoop()">runAnimationLoop</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The inner loop for the animation thread.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#setAllowOverlappingTargets(boolean)">setAllowOverlappingTargets</A></B>(boolean&nbsp;v)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets whether or not overlapping draw targets are allowed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#setDrawTargetCollapseThreshold(int)">setDrawTargetCollapseThreshold</A></B>(int&nbsp;t)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the threshold of the number of pixels of increased drawing the
 engine is willing to tolerate in order to collapse two draw targets
 into one.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#setThreadPriority(int)">setThreadPriority</A></B>(int&nbsp;priority)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the priority of the thread that runs the animation loop.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#showFrame()">showFrame</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tell the model we're caught up, and show the current frame.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#start()">start</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start the current animations.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected abstract &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#terminatingEraseScreen()">terminatingEraseScreen</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Erase the screen because the AnimationManager is terminating.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="transparent"><!-- --></A><H3>
transparent</H3>
<PRE>
public static final java.awt.Color <B>transparent</B></PRE>
<DL>
<DD>A useful constant that's used extensively by engines
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="renderContext"><!-- --></A><H3>
renderContext</H3>
<PRE>
protected com.hdcookbook.grin.animator.RenderContextBase <B>renderContext</B></PRE>
<DL>
<DD>The list of erase and drawing areas that were updated in 
 the current frame of animation, and records of what happened
 in the last.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="repaintBounds"><!-- --></A><H3>
repaintBounds</H3>
<PRE>
protected java.awt.Rectangle <B>repaintBounds</B></PRE>
<DL>
<DD>The area that has been damaged and need to be repainted in the
 next cycle.  This can be used by the AnimationEngine subclass
 that has knowledge about the damaged area, and would rather
 not repaint the entire Frame via needsFullPaint variable.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="modelTimeSkipped"><!-- --></A><H3>
modelTimeSkipped</H3>
<PRE>
protected int <B>modelTimeSkipped</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="targetsCanOverlap"><!-- --></A><H3>
targetsCanOverlap</H3>
<PRE>
protected boolean <B>targetsCanOverlap</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="AnimationEngine()"><!-- --></A><H3>
AnimationEngine</H3>
<PRE>
protected <B>AnimationEngine</B>()</PRE>
<DL>
<DD>Initialize a new AnimationEngine.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="initClients(com.hdcookbook.grin.animator.AnimationClient[])"><!-- --></A><H3>
initClients</H3>
<PRE>
public void <B>initClients</B>(<A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html" title="interface in com.hdcookbook.grin.animator">AnimationClient</A>[]&nbsp;clients)</PRE>
<DL>
<DD>Initialize this engine with the animation clients it will be
 managing.  This should be called exactly once, before 
 AnimationContext.animationInitialize() completes.  It's fine
 to call it before starting the animation thread, too.
 <p>
 Note that the algorithm used to collapse render area targets
 is cubic with the number of targets, so this number should be
 kept low.  Between one and three would be reasonable, and five
 is perhaps a workable maximum.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>clients</CODE> - The animation clients we'll support<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html#animationInitialize()"><CODE>AnimationContext.animationInitialize()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setDrawTargetCollapseThreshold(int)"><!-- --></A><H3>
setDrawTargetCollapseThreshold</H3>
<PRE>
public void <B>setDrawTargetCollapseThreshold</B>(int&nbsp;t)</PRE>
<DL>
<DD>Sets the threshold of the number of pixels of increased drawing the
 engine is willing to tolerate in order to collapse two draw targets
 into one.  It's more efficient to draw one slightly bigger area than
 two smaller areas, but at some threshold it's better to leave them
 divided.  By default, this threshold is set to about 150,000 pixels
 (e.g. a 385x385 area), but this is a guess.
 <p>
 This value may be set to 0, or even a negative number.  This might be
 valuable to disable the collapse optimization, for clients that want a 
 predictable and consistent render time.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAllowOverlappingTargets(boolean)"><!-- --></A><H3>
setAllowOverlappingTargets</H3>
<PRE>
public void <B>setAllowOverlappingTargets</B>(boolean&nbsp;v)</PRE>
<DL>
<DD>Sets whether or not overlapping draw targets are allowed.  By default
 they are not, that is, any draw targets that overlap will be combined
 into one.  When overlapping targets are allowed, then erasing is
 not done as a separate step.  Rather, it is done for each draw target
 just before painting.  For this reason, gurantee_fill has no effect
 when this mode is set true.
 <p>
 This method must only be called during the model update.
 <p>
 The default value of this parameter is false.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resetAnimationClients(com.hdcookbook.grin.animator.AnimationClient[])"><!-- --></A><H3>
resetAnimationClients</H3>
<PRE>
public void <B>resetAnimationClients</B>(<A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html" title="interface in com.hdcookbook.grin.animator">AnimationClient</A>[]&nbsp;clients)</PRE>
<DL>
<DD>Reset the set of clients being rendered by a running animation
 engine.  This method simply notes the request to reset the list
 of clients and returns.  After the current frame of animation is
 finished, the engine will asynchronously initialize any new clients
 (clients on the new list but not the old), then destroy any old
 clients (clients on the old list but not the new).  It will re-calculate
 the render targets for all clients at this time, and it will cause
 a full screen repaint for the first frame of animation.
 <p>
 The framework takes ownership of the array that's passed in, so
 the caller should not modify that array after calling this method.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAnimationClients()"><!-- --></A><H3>
getAnimationClients</H3>
<PRE>
public <A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html" title="interface in com.hdcookbook.grin.animator">AnimationClient</A>[] <B>getAnimationClients</B>()</PRE>
<DL>
<DD>Return a copy of the list of animation clients that were last
 set for this animation engine.  These clients might not be
 active yet, if the engine is finishing up a frame of animation
 right after the list of clients was reset.
 <p>
 Note that the old animation clients are destroyed, and not put
 into a quiescent state.  In the case of a GRIN show, this means
 that if you want to later add the show back, you'll need to re-read
 it from the .grin file.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setThreadPriority(int)"><!-- --></A><H3>
setThreadPriority</H3>
<PRE>
public void <B>setThreadPriority</B>(int&nbsp;priority)</PRE>
<DL>
<DD>Set the priority of the thread that runs the animation loop.
 The default values is 4, that is, Thread.NORM_PRIORITY-1.
 The animation loop should run at less than NORM_PRIORITY, to
 make sure that higher-priority activities, like remote control
 keypresses, take precidence.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initContainer(java.awt.Container, java.awt.Rectangle)"><!-- --></A><H3>
initContainer</H3>
<PRE>
public abstract void <B>initContainer</B>(java.awt.Container&nbsp;container,
                                   java.awt.Rectangle&nbsp;bounds)</PRE>
<DL>
<DD>Initialize this engine with its parent container and the
 position and size of the engine within the container.
 This should be called exactly once, before start() is called.
 A good time to call this would be in the animationInitialize() call
 within the context code passed to initialize().
 <p>
 The Component will be set to the specified bounds, and an internal
 double buffer may be created to these bounds.  The container
 is expected to have a null layout; if it doesn't, this might
 change the widget's size to be different than the bounds passed
 in (and therefore the double buffer).  The container must be
 visible when this is called.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#initialize(com.hdcookbook.grin.animator.AnimationContext)"><CODE>initialize(com.hdcookbook.grin.animator.AnimationContext)</CODE></A>, 
<A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html#animationInitialize()"><CODE>AnimationContext.animationInitialize()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getWidth()"><!-- --></A><H3>
getWidth</H3>
<PRE>
public abstract int <B>getWidth</B>()</PRE>
<DL>
<DD>Get the width of the area we display over
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the width</DL>
</DD>
</DL>
<HR>

<A NAME="getHeight()"><!-- --></A><H3>
getHeight</H3>
<PRE>
public abstract int <B>getHeight</B>()</PRE>
<DL>
<DD>Get the height of the area we display over
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the height</DL>
</DD>
</DL>
<HR>

<A NAME="getNumEraseTargets()"><!-- --></A><H3>
getNumEraseTargets</H3>
<PRE>
protected int <B>getNumEraseTargets</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The number of erase areas active for this frame</DL>
</DD>
</DL>
<HR>

<A NAME="getEraseTargets()"><!-- --></A><H3>
getEraseTargets</H3>
<PRE>
protected java.awt.Rectangle[] <B>getEraseTargets</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the total pool of erase areas.  Iterate this from 0..n-1,
               n=getNumEraseTargets().  Some might be empty, which is indicated
               by a width <= 0, which makes Rectangle.isEmpty() return true.</DL>
</DD>
</DL>
<HR>

<A NAME="getNumDrawTargets()"><!-- --></A><H3>
getNumDrawTargets</H3>
<PRE>
protected int <B>getNumDrawTargets</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The number of draw areas active for this frame</DL>
</DD>
</DL>
<HR>

<A NAME="getDrawTargets()"><!-- --></A><H3>
getDrawTargets</H3>
<PRE>
protected java.awt.Rectangle[] <B>getDrawTargets</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the total pool of draw areas.  Iterate this from 0..n-1,
               n=getNumDrawTargets()</DL>
</DD>
</DL>
<HR>

<A NAME="destroyRequested()"><!-- --></A><H3>
destroyRequested</H3>
<PRE>
public boolean <B>destroyRequested</B>()</PRE>
<DL>
<DD>Tells us if there has been a request to destroy this animation
 manager.  Any activity in the animation thread that takes more
 than about a tenth of a second should poll this method, and
 bail out if needed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="checkDestroy()"><!-- --></A><H3>
checkDestroy</H3>
<PRE>
public void <B>checkDestroy</B>()
                  throws java.lang.InterruptedException</PRE>
<DL>
<DD>Throw an InterruptedException if we should bail out.  This will
 happen if destroyRequested(), or if Thread.interrupted().  This
 is a convenience method.  It's good to call this regularly
 during time-consuming operations in the animatino thread.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getComponent()"><!-- --></A><H3>
getComponent</H3>
<PRE>
public abstract java.awt.Component <B>getComponent</B>()</PRE>
<DL>
<DD>Get the component that this animation engine renders into.  This is
 added by the engine to the container.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the component, or null if initContainer hasn't been called yet.<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#initialize(com.hdcookbook.grin.animator.AnimationContext)"><CODE>initialize(com.hdcookbook.grin.animator.AnimationContext)</CODE></A>, 
<A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html#animationInitialize()"><CODE>AnimationContext.animationInitialize()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="paintNextFrameFully()"><!-- --></A><H3>
paintNextFrameFully</H3>
<PRE>
public void <B>paintNextFrameFully</B>()</PRE>
<DL>
<DD>Sets this engine so that the next frame will be painted in
 its entirety, with no redraw optimization.  This can be needed
 if the contents of the framebuffer was damaged somehow.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initialize(com.hdcookbook.grin.animator.AnimationContext)"><!-- --></A><H3>
initialize</H3>
<PRE>
public void <B>initialize</B>(<A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html" title="interface in com.hdcookbook.grin.animator">AnimationContext</A>&nbsp;context)</PRE>
<DL>
<DD>Initialize this animation manager.  The animation loop worker thread
 will be started, and it will proceed in the following order:
 <pre>
    context.animationInitialize();  
             // a good time to set up the HScene and Player
    for each client c
        c.initialize()
    context.animationFinishInitialization();  // perhaps set UI state
    for (frame = 0 to infinity) {
        wait until it's time for next frame
        for each client
            call nextFrame
         if animation isn't behind
             for each client
                 call setCaughtUp
                 call addDisplayAreas
             for each client
                 call paintFrame as many times as needed
                   for each client
                        call paintDone
    }
 </pre>
 <p>
 This method returns immediately after starting the thread, so that
 an Xlet can quickly return from the xlet lifecycle method
 Xlet.initXlet().  Any code that depends on animation clients being
 initialized should be put in the body of the 
 <code>AnimationContext.animationFinishInitialization()</code> method.
 For example, if you're using a GRIN show,
 <code>animationFinishInitialization() is where you should put
 the call to <code>Show.activateSegment()</code> on the show's
 initial segument.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>context</CODE> - The context that the animation manager is running in.
                        This can be used for initialization that the client
                        wants to do in the animation thread.  The context might
                        use this to create an HScene, load a GRIN show, 
                        synchronously
                        start video playing, or do other time-consuming 
                        operations.<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html#animationFinishInitialization()"><CODE>AnimationContext.animationFinishInitialization()</CODE></A>, 
<A HREF="../../../../com/hdcookbook/grin/Show.html#activateSegment(com.hdcookbook.grin.Segment)"><CODE>Show.activateSegment(com.hdcookbook.grin.Segment)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="start()"><!-- --></A><H3>
start</H3>
<PRE>
public abstract void <B>start</B>()</PRE>
<DL>
<DD>Start the current animations.  The animation will start
 animating sometime after this method is called.  This can
 be called while initialization is still underway in the
 animation thread.
 <p>
 By default, the manager will assume that the contents of the
 framebuffer wasn't changed while the manager was paused.  If
 it might have been, it's advisable to call
 paintNextFrameFully().
 <p>
 The animation manager starts in the paused state, so this
 method will normally need to be called at least once.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#paintNextFrameFully()"><CODE>paintNextFrameFully()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="pause()"><!-- --></A><H3>
pause</H3>
<PRE>
public abstract void <B>pause</B>()</PRE>
<DL>
<DD>Pause the currently running animations.  The animation thread
 will go into a wait state, until start() or destroy() are called.
 <p>
 This method will return immediately, even if the animation hasn't
 reached the paused state yet.
 <p>
 When the animation framework is paused, no effort is made to output
 one last frame with the current state of the model.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="destroy()"><!-- --></A><H3>
destroy</H3>
<PRE>
public void <B>destroy</B>()</PRE>
<DL>
<DD>Destroy this animation manager, by terminating the animation thread.
 It's OK to call this more than once.  It should be called while
 the animation manager's component is still visible, and a child
 of a visible HScene.
 <p>
 This method will not return until the animation thread has
 terminated.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="clearArea(int, int, int, int)"><!-- --></A><H3>
clearArea</H3>
<PRE>
protected abstract void <B>clearArea</B>(int&nbsp;x,
                                  int&nbsp;y,
                                  int&nbsp;width,
                                  int&nbsp;height)</PRE>
<DL>
<DD>Called from showFrame() to cause an area to be cleared in the
 current frame.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#showFrame()"><CODE>showFrame()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="needsFullRedrawInAnimationLoop()"><!-- --></A><H3>
needsFullRedrawInAnimationLoop</H3>
<PRE>
protected abstract boolean <B>needsFullRedrawInAnimationLoop</B>()</PRE>
<DL>
<DD>Tell us whether or not this style of animation requires a full
 redraw of everything on the screen in each pass through the animation
 loop.  This is called from the animation loop.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="callPaintTargets()"><!-- --></A><H3>
callPaintTargets</H3>
<PRE>
protected abstract void <B>callPaintTargets</B>()
                                  throws java.lang.InterruptedException</PRE>
<DL>
<DD>Paint the current frame into the right graphics buffer.
 The subclass implementation of this method should call
 paintTargets(Graphics2D).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE><DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#paintFrame(java.awt.Graphics2D)"><CODE>paintFrame(java.awt.Graphics2D)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="finishedFrame()"><!-- --></A><H3>
finishedFrame</H3>
<PRE>
protected abstract void <B>finishedFrame</B>()</PRE>
<DL>
<DD>Called when the engine is finished drawing the current frame.
 This should flush the results to the screen, if needed.  The
 framework guarantees that each call to callPaintTargets()
 will be followed by a call to finishedFrame(), even
 if the thread is interrupted or there's a RuntimeException
 that terminates the thread.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="terminatingEraseScreen()"><!-- --></A><H3>
terminatingEraseScreen</H3>
<PRE>
protected abstract void <B>terminatingEraseScreen</B>()</PRE>
<DL>
<DD>Erase the screen because the AnimationManager is terminating.
 This is called in the animation thread as a result of a call
 to destroy(), just before the animation thread terminates.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="run()"><!-- --></A><H3>
run</H3>
<PRE>
public void <B>run</B>()</PRE>
<DL>
<DD>This is the main loop for animation.  It's for internal use
 only; users of this framework should not call this method
 directly.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE>run</CODE> in interface <CODE>java.lang.Runnable</CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="runAnimationLoop()"><!-- --></A><H3>
runAnimationLoop</H3>
<PRE>
protected abstract void <B>runAnimationLoop</B>()
                                  throws java.lang.InterruptedException</PRE>
<DL>
<DD>The inner loop for the animation thread.  This implementation uses
 System.currentTimeMillis() and wait() to keep a steady frame
 rate.  This method can be overridden for animation styles that
 have a different synch mechanism, like SFAA.  If this is done,
 be sure to look inside this method, and obey the same semantic
 contract.
 <p>
 This method must call checkNewClients() outside of any synchronized
 block at least once per frame.  This should be done at the beginning
 of the frame before any model updates or animation work is done.
 <p>
 This method must check destroyRequested() at least once per frame,
 and if it's true, bail out of the loop.  
 To advance the model by one frame, it should call
 advanceModel().  When it wants to show a frame (and not skip it), it 
 should call showFrame(), which will cause callPaintTargets() to 
 be called.
 <p>
 Of course, the animation loop should also check Thread.interrupted()
 regularly.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE><DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#destroyRequested()"><CODE>destroyRequested()</CODE></A>, 
<A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#advanceModel()"><CODE>advanceModel()</CODE></A>, 
<A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#showFrame()"><CODE>showFrame()</CODE></A>, 
<A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#callPaintTargets()"><CODE>callPaintTargets()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="checkNewClients()"><!-- --></A><H3>
checkNewClients</H3>
<PRE>
protected final void <B>checkNewClients</B>()
                              throws java.lang.InterruptedException</PRE>
<DL>
<DD>Check to see if we have new animation clients.  This method must
 be called from runAnimationLoop once per frame, at the beginning.
 It should be called outside of any synchronized block, because
 it potentially makes calls out to client code to initialize and
 destroy animation clients.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getModelTimeSkipped()"><!-- --></A><H3>
getModelTimeSkipped</H3>
<PRE>
public final int <B>getModelTimeSkipped</B>()</PRE>
<DL>
<DD>Return the number of ms skipped before the next model update.
 Normally, this will return 0, but if animation falls behind
 and model updates are found to be taking a significant amount
 of the time available per frame, then the framework will skip
 a few ms of time, so that the framework can be considered caught
 up.  This method indicates how much time was skipped between
 the last frame and the current frame.
 <p>
 Typically, model updates should be very much faster than the
 time between frames, so this method should almost always return
 0, unless the animation clients are doing some atypically
 complex calculations.
 <p>
 This can be queried from within AnimationClient.nextFrame()
 to see how much time to add to the normal frame time, if
 code wishes to keep time-based animations synchronized in time,
 even in the face of CPU-intensive model updates.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>The time skipped, in ms.  Typically 0.<DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationClient.html#nextFrame()"><CODE>AnimationClient.nextFrame()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="advanceModel()"><!-- --></A><H3>
advanceModel</H3>
<PRE>
protected final void <B>advanceModel</B>()
                           throws java.lang.InterruptedException</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="showFrame()"><!-- --></A><H3>
showFrame</H3>
<PRE>
protected final void <B>showFrame</B>()
                        throws java.lang.InterruptedException</PRE>
<DL>
<DD>Tell the model we're caught up, and show the current frame.  This
 calls callPaintTargets.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE><DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#callPaintTargets()"><CODE>callPaintTargets()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="paintTargets(java.awt.Graphics2D)"><!-- --></A><H3>
paintTargets</H3>
<PRE>
protected final void <B>paintTargets</B>(java.awt.Graphics2D&nbsp;g)
                           throws java.lang.InterruptedException</PRE>
<DL>
<DD>Paint the current set of target areas in our RenderContext for
 the current frame into the given graphics object.  This
 should be called by the subclass within callPaintTargets().
 <p>
 The Graphics2D instance must have a clip area that is set to
 the extent of the area being managed by this animation manager.
 The instance will have an unmodified clip area
 after this method is called, but other attributes, like the
 drawing mode and the foreground color, might be changed.  However,
 the Graphics2D instance will be suitable for re-use in a subsequent
 paintFrame operation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>g</CODE> - A graphics context with a clip area covering
                        the full extent of the screen area under the
                        control of this animation manager.
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE><DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#callPaintTargets()"><CODE>callPaintTargets()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="paintFrame(java.awt.Graphics2D)"><!-- --></A><H3>
paintFrame</H3>
<PRE>
protected final void <B>paintFrame</B>(java.awt.Graphics2D&nbsp;g)
                         throws java.lang.InterruptedException</PRE>
<DL>
<DD>Paint the current frame into the given graphics object.  This
 variant is for use when the full clip area of g should be
 painted to, rather than the set of render area gargets.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>g</CODE> - A graphics context with a clip area covering the 
                        area that needs to be painted to
<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE><DT><B>See Also:</B><DD><A HREF="../../../../com/hdcookbook/grin/animator/AnimationEngine.html#paintTargets(java.awt.Graphics2D)"><CODE>paintTargets(java.awt.Graphics2D)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="repaintFrame(java.awt.Graphics2D)"><!-- --></A><H3>
repaintFrame</H3>
<PRE>
public void <B>repaintFrame</B>(java.awt.Graphics2D&nbsp;g)
                  throws java.lang.InterruptedException</PRE>
<DL>
<DD>Repaint the current frame.  This can be called if the
 current frame needs to be painted to a graphics context outside
 of the animation loop.  This should be extremely rare in practice,
 but in theory it can at least happen with repaint animation that
 uses platform-supplied double buffering, and it might be possible
 with SFAA when the UI is repainted.  
 <p>
 This can also be used for things like capturing a screenshot
 to a buffered image.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.InterruptedException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../com/hdcookbook/grin/animator/AnimationContext.html" title="interface in com.hdcookbook.grin.animator"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../com/hdcookbook/grin/animator/ClockBasedEngine.html" title="class in com.hdcookbook.grin.animator"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?com/hdcookbook/grin/animator/AnimationEngine.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AnimationEngine.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
